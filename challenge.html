<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Program">
	<meta name="author" content="emilim">
	<title>The Science of Consciousness 2023</title>
	<link rel="favicon" href="assets/images/favicon.png">
	<link rel="stylesheet" media="screen" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/font-awesome.min.css">
	<!-- Custom styles-->
	<link rel="stylesheet" href="assets/css/bootstrap-theme.css" media="screen">
	<link rel="stylesheet" href="assets/css/style.css">
	<link rel="icon" type="image/x-icon" href="assets/images/favicon.png">
</head>
<body>
    <img src="assets/images/bg_header.jpg" alt="" style="  display: block;
	margin-left: auto;
	margin-right: auto;
	width: 100%;">
	<!-- /Header -->

	<div class="navbar navbar-inverse">
		<div class="container myMenu">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span
					class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
			<div class="navbar-header">

				<a class="navbar-brand" href="/">
					<img src="assets/images/logo.png" alt="tsc logo"></a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav pull-right">
					<li><a href="/">
							<p>Home</p>
						</a></li>
					<li><a href="program.html">
							<p>Program</p>
						</a></li>
					<li><a href="travel.html">
							<p>Travel & Info</p>
						</a></li>
					<li><a href="dates.html">
							<p>Dates & News</p>
						</a></li>
					<li><a href="registration.html">
							<p>Login & Extras</p>
						</a></li>
                    <li class="active"><a href="challenge.html">
                            <p>Challenge</p>
                        </a></li>
				</ul>
			</div>
		</div>
	</div>
	<!-- /.navbar -->
    <section class="container" style="margin-top: 100px;">
        <h3 class="text-center">Consciousness Challenge</h3>
    </section>

	<div id="codiceValido" style="display: none;">
        <section class="container" style="margin-bottom: 500px;">
            <h4 class="text-center">What theory most convinces you?</h4>
            <div id="domanda" class="text-center">
                <ul>
                    <li><input type="radio" name="risposta" value="QM">QM</li>
                    <li><input type="radio" name="risposta" value="IIT">IIT</li>
                    <li><input type="radio" name="risposta" value="OOO">OOO</li>
                    <li><input type="radio" name="risposta" value="MOI">MOI</li>
                </ul>
                <input type="button" value="send" onclick="inviaRisposta()">
            </div>
            <div id="risposta"></div>
        </section>
	</div>
	<div id="codiceNonValido" style="display: none;">
        <section class="container" style="margin-bottom: 500px;">
            <p>To access this page you need a valid code. Please insert your code below or scan the QR code.</p>
            <form>
                <label for="codice">Insert the code: </label>
                <input type="text" id="codice" name="codice">
                <input type="button" value="Verify" onclick="verificaCodice()">
            </form>
        </section>
	</div>

	<script>
		window.onload = function() {
			verificaCodice();
		};

        function inviaRisposta() {
			var risposta = document.querySelector('input[name="risposta"]:checked');
			if (!risposta) {
				document.getElementById("risposta").innerHTML = "Select a theory.";
				return;
			}
			console.log(risposta.value);
		}

		function verificaCodice() {
			var codice = getUrlParameter("codice");
			if (!codice) {
				document.getElementById("codiceNonValido").style.display = "block";
				return;
			}

			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					var codici = JSON.parse(this.responseText);
					if (codici.includes(codice)) {
						document.getElementById("codiceValido").style.display = "block";
					} else {
						document.getElementById("codiceNonValido").style.display = "block";
					}
				}
			};
			xhr.open("GET", "codici.json", true);
			xhr.send();
		}

		function getUrlParameter(name) {
			name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
			var regex = new RegExp("[\\?&]" + name + "=([^&#]*)");
			var results = regex.exec(location.search);
			return results === null ? null : decodeURIComponent(results[1].replace(/\+/g, " "));
		}
	</script>






    <footer id="footer">
		<div class="footer2">
			<div class="container">
				<div class="row">

					<div class="col-md-6 panel">
						<div class="panel-body">
							<p class="simplenav">
								<a href="about.html">About</a>
							</p>
						</div>
					</div>

					<div class="col-md-6 panel">
						<div class="panel-body">
							<p class="text-right">
								Copyright &copy; 2022. Template by <a href="http://github.com/emilim"
									rel="develop">emilim</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>

	<!-- JavaScript libs are placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
	<script src="assets/js/custom.js"></script>

	<script src="assets/js/modernizr-latest.js"></script>
	<script type='text/javascript' src='assets/js/jquery.min.js'></script>
	<script type='text/javascript' src='assets/js/fancybox/jquery.fancybox.pack.js'></script>

	<script type='text/javascript' src='assets/js/jquery.mobile.customized.min.js'></script>
	<script type='text/javascript' src='assets/js/jquery.easing.1.3.js'></script>
	<script type='text/javascript' src='assets/js/camera.min.js'></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/custom.js"></script>
	<script>
		jQuery(function () {
			jQuery("#nav-placeholder").load("nav.html");
			jQuery("#foot-placeholder").load("foot.html");
			jQuery('#camera_wrap_4').camera({
				height: '600',
				loader: 'bar',
				pagination: false,
				thumbnails: false,
				hover: false,
				opacityOnGrid: false,
				imagePath: 'assets/images/'
			});

		});
	</script>
</body>
</html>
